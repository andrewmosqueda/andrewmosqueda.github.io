<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Implementing 5V to 12V PWM Boost Converter in the DSPIC33CH Curiosity Development Board - Andrew Mosqueda</title><meta name="description" content="Introduction The dsPIC33CH Curiosity Development Board (DM330028) has a built in buck-boost circuit that we can experiment with. Unfortunately in the time of this writing, the code for the buck-boost converter that is provided by Microchip is only written in assembly language which I found&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://andrewmosqueda.github.io/implementing-5v-to-12v-pwm-boos-converter-in-the-dspic33ch-curiosity-development-board/"><link rel="alternate" type="application/atom+xml" href="https://andrewmosqueda.github.io/feed.xml"><link rel="alternate" type="application/json" href="https://andrewmosqueda.github.io/feed.json"><meta property="og:title" content="Implementing 5V to 12V PWM Boost Converter in the DSPIC33CH Curiosity Development Board"><meta property="og:site_name" content="Andrew Mosqueda - Andrew Mosqueda"><meta property="og:description" content="Introduction The dsPIC33CH Curiosity Development Board (DM330028) has a built in buck-boost circuit that we can experiment with. Unfortunately in the time of this writing, the code for the buck-boost converter that is provided by Microchip is only written in assembly language which I found&hellip;"><meta property="og:url" content="https://andrewmosqueda.github.io/implementing-5v-to-12v-pwm-boos-converter-in-the-dspic33ch-curiosity-development-board/"><meta property="og:type" content="article"><style>:root{--body-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--heading-font:var(--body-font);--post-entry-font:var(--body-font);--logo-font:var(--body-font);--menu-font:var(--body-font)}</style><link rel="stylesheet" href="https://andrewmosqueda.github.io/assets/css/style.css?v=eacb492672ba3c1641d647982de266ba"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://andrewmosqueda.github.io/implementing-5v-to-12v-pwm-boos-converter-in-the-dspic33ch-curiosity-development-board/"},"headline":"Implementing 5V to 12V PWM Boost Converter in the DSPIC33CH Curiosity Development Board","datePublished":"2021-08-17T20:18","dateModified":"2021-08-21T08:41","description":"Introduction The dsPIC33CH Curiosity Development Board (DM330028) has a built in buck-boost circuit that we can experiment with. Unfortunately in the time of this writing, the code for the buck-boost converter that is provided by Microchip is only written in assembly language which I found&hellip;","author":{"@type":"Person","name":"Andrew Mosqueda"},"publisher":{"@type":"Organization","name":"Andrew Mosqueda"}}</script></head><body><header class="topbar" id="js-header"><div class="topbar__inner"><a class="logo" href="https://andrewmosqueda.github.io/">Andrew Mosqueda</a></div></header><div class="content"><div class="infobar"><div class="infobar__update">Last Updated: <time datetime="2021-08-21T10:32">August 21, 2021</time></div><div class="infobar__search"><form action="https://andrewmosqueda.github.io/search.html"><input type="search" name="q" placeholder="search..." aria-label="Search input"> <button type="submit" aria-label="Submit"><svg role="presentation" focusable="false" width="15px" height="14px"><use xlink:href="https://andrewmosqueda.github.io/assets/svg/svg-map.svg#search"/></svg></button></form></div></div><main class="main"><article class="post"><header class="u-header post__header"><h1>Implementing 5V to 12V PWM Boost Converter in the DSPIC33CH Curiosity Development Board</h1><div class="u-header__meta u-small"><img src="https://andrewmosqueda.github.io/media/website/andrew.jpg" loading="eager" class="u-header__avatar" alt="Andrew Mosqueda"><div><a href="https://andrewmosqueda.github.io/authors/andrew-mosqueda/" title="Andrew Mosqueda">Andrew Mosqueda</a> <time datetime="2021-08-17T20:18">August 17, 2021</time></div></div></header><div class="post__entry u-inner"><h2>Introduction</h2><p> The dsPIC33CH Curiosity Development Board (DM330028) has a built in buck-boost circuit that we can experiment with. Unfortunately in the time of this writing, the code for the buck-boost converter that is provided by Microchip is only written in assembly language which I found hard to comprehend. So I made my own program that is written in C language and using PID for the close loop control. Only voltage loop control is covered by this topic.</p><h2>Buck-Boost Converter Circuit</h2><p>Figure 1 below is the schematic of the buck boost circuit of the DSPIC33CH Curiosity Board. The DSPIC IC can control the boost transistor (Q2) switching through the RC15_S1PWM7L connection. The DSPIC IC should set low the RC14_S1PWM7H so that the Q6 P-MOSFET is always on (switch closed). I am connecting a 1.5kΩ resistor as load. For a 12V output, the power that will be drawn by the resistor is 12V*12V/1.5kΩ = 96mW.</p><figure class="post__image"><img loading="lazy" src="https://andrewmosqueda.github.io/media/posts/4/BuckBoost_Power_Circuit.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://andrewmosqueda.github.io/media/posts/4/responsive/BuckBoost_Power_Circuit-xs.png 300w, https://andrewmosqueda.github.io/media/posts/4/responsive/BuckBoost_Power_Circuit-sm.png 480w, https://andrewmosqueda.github.io/media/posts/4/responsive/BuckBoost_Power_Circuit-md.png 768w, https://andrewmosqueda.github.io/media/posts/4/responsive/BuckBoost_Power_Circuit-lg.png 1024w, https://andrewmosqueda.github.io/media/posts/4/responsive/BuckBoost_Power_Circuit-xl.png 1360w, https://andrewmosqueda.github.io/media/posts/4/responsive/BuckBoost_Power_Circuit-2xl.png 1600w" alt="DM330038 DSPIC33CH Curiosity Development Board Buck Boost Circuit" width="970" height="633"><figcaption>Figure 1 DM330028 DSPIC33CH Curiosity Development Board Buck-Boost Converter Corcuit</figcaption></figure><p>The output of the converter (Vout) is sensed by the DSPIC IC through RC1_VOUTFB connection as shown in Figure 2. For a 12V output, the voltage on RC1_VOUTFB is 12V*1kΩ/(4.7kΩ+1kΩ) = 2.105V.</p><figure class="post__image"><img loading="lazy" src="https://andrewmosqueda.github.io/media/posts/4/Buck_Sense_Circuit.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://andrewmosqueda.github.io/media/posts/4/responsive/Buck_Sense_Circuit-xs.png 300w, https://andrewmosqueda.github.io/media/posts/4/responsive/Buck_Sense_Circuit-sm.png 480w, https://andrewmosqueda.github.io/media/posts/4/responsive/Buck_Sense_Circuit-md.png 768w, https://andrewmosqueda.github.io/media/posts/4/responsive/Buck_Sense_Circuit-lg.png 1024w, https://andrewmosqueda.github.io/media/posts/4/responsive/Buck_Sense_Circuit-xl.png 1360w, https://andrewmosqueda.github.io/media/posts/4/responsive/Buck_Sense_Circuit-2xl.png 1600w" alt="Figure 2 DM330028 DSPIC33CH Curiosity Development Board Buck-Boost Output Voltage Sense Circuit" width="573" height="332"><figcaption>Figure 2 DM330028 DSPIC33CH Curiosity Development Board Buck-Boost Output Voltage Sense Circuit</figcaption></figure><h2>CORE SETUP</h2><p>The PWM control pins in Figure 1 are connected to the Slave Core of the IC so we need to make the source code of the PWM control in the Slave Core. We also need to make a simple source code for the Master Core just to start the Slave Core.</p><ol><li>Run MPLAB X IDE (I'm using version v5.50 at the time of this writing).Connect J20 of the Curiosity board to PC so that the MPLAB application detects what board is connected.</li><li>After opening MPLAB, close any projects that are open on the left pane.</li></ol><p>MASTER CORE</p><ol><li>Ctrl+Shift+N to open the new project dialog box. Select Standalone Project then Click Next.<br><figure class="post__image"><img loading="lazy" src="https://andrewmosqueda.github.io/media/posts/4/new_project_dialog_box_MPLAB.jpg" sizes="(max-width: 48em) 100vw, 768px" srcset="https://andrewmosqueda.github.io/media/posts/4/responsive/new_project_dialog_box_MPLAB-xs.jpg 300w, https://andrewmosqueda.github.io/media/posts/4/responsive/new_project_dialog_box_MPLAB-sm.jpg 480w, https://andrewmosqueda.github.io/media/posts/4/responsive/new_project_dialog_box_MPLAB-md.jpg 768w, https://andrewmosqueda.github.io/media/posts/4/responsive/new_project_dialog_box_MPLAB-lg.jpg 1024w, https://andrewmosqueda.github.io/media/posts/4/responsive/new_project_dialog_box_MPLAB-xl.jpg 1360w, https://andrewmosqueda.github.io/media/posts/4/responsive/new_project_dialog_box_MPLAB-2xl.jpg 1600w" alt="MPLAB New Project Choose Project dialog box" width="898" height="621"></figure></li><li>Select Device dsPIC33CH128MP508 and Tool Starter Kits (PKOB)-SN:BUR182571251 then click Next. Note, there is a DM330028-2 version of the curiousity board so the device and tool will be different. Please refer to its user guide or check the actual part number of the dsPIC IC that is mounted on the board.<br><figure class="post__image"><img loading="lazy" src="https://andrewmosqueda.github.io/media/posts/4/MPLAB_select_device.jpg" sizes="(max-width: 48em) 100vw, 768px" srcset="https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_select_device-xs.jpg 300w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_select_device-sm.jpg 480w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_select_device-md.jpg 768w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_select_device-lg.jpg 1024w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_select_device-xl.jpg 1360w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_select_device-2xl.jpg 1600w" alt="MPLAB New Project Select Device Dialog" width="897" height="617"></figure></li><li>Select Compiler XC16 (v1.70) then click next. You may have a newer version installed.<br><figure class="post__image"><img loading="lazy" src="https://andrewmosqueda.github.io/media/posts/4/MPLAB_select_compiler.jpg" sizes="(max-width: 48em) 100vw, 768px" srcset="https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_select_compiler-xs.jpg 300w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_select_compiler-sm.jpg 480w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_select_compiler-md.jpg 768w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_select_compiler-lg.jpg 1024w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_select_compiler-xl.jpg 1360w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_select_compiler-2xl.jpg 1600w" alt="MPLAB New Project Select Compiler Dialog" width="898" height="620"></figure></li><li>Name the project as "master". Save it to folder "boost" then click Finish.<br><figure class="post__image"><img loading="lazy" src="https://andrewmosqueda.github.io/media/posts/4/MPLAB-New-Project-Select-Program-Name-and-Folder-Dialog.jpg" sizes="(max-width: 48em) 100vw, 768px" srcset="https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB-New-Project-Select-Program-Name-and-Folder-Dialog-xs.jpg 300w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB-New-Project-Select-Program-Name-and-Folder-Dialog-sm.jpg 480w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB-New-Project-Select-Program-Name-and-Folder-Dialog-md.jpg 768w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB-New-Project-Select-Program-Name-and-Folder-Dialog-lg.jpg 1024w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB-New-Project-Select-Program-Name-and-Folder-Dialog-xl.jpg 1360w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB-New-Project-Select-Program-Name-and-Folder-Dialog-2xl.jpg 1600w" alt="MPLAB New Project Select Project Name and Folder Dialog Box" width="951" height="630"></figure></li></ol><p>SLAVE CORE</p><ol><li>Ctrl+Shift+N to open again the new project dialog box. Select Standalone Project then click Next.</li><li>Again, your curiosity may have a different device name but take note of the last two characters ("S1") for the device which means that it is the slave core. Select device dsPIC33CH128MO508S1 and Starter Kits (PKOB)-SN:BUR182571251 then click Next.<br><figure class="post__image"><img loading="lazy" src="https://andrewmosqueda.github.io/media/posts/4/MPLAB_select_device_slave.jpg" sizes="(max-width: 48em) 100vw, 768px" srcset="https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_select_device_slave-xs.jpg 300w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_select_device_slave-sm.jpg 480w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_select_device_slave-md.jpg 768w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_select_device_slave-lg.jpg 1024w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_select_device_slave-xl.jpg 1360w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_select_device_slave-2xl.jpg 1600w" alt="MPLAB New Project Select Device dialog box" width="895" height="620"></figure></li><li>Select compiler XC16 (v1.70) then click next.</li><li>Name the project as "slave" and use the same project location with the master core. Click Finish.</li></ol><h2>CODE CONFIGURATION</h2><p>MASTER CORE</p><ol><li>On the Projects Pane, if the slave project is highlighted in bold, right click on master project and select "Set as Main Project".<br><figure class="post__image"><img loading="lazy" src="https://andrewmosqueda.github.io/media/posts/4/MPLAB_Set_main_project.jpg" sizes="(max-width: 48em) 100vw, 768px" srcset="https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_Set_main_project-xs.jpg 300w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_Set_main_project-sm.jpg 480w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_Set_main_project-md.jpg 768w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_Set_main_project-lg.jpg 1024w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_Set_main_project-xl.jpg 1360w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_Set_main_project-2xl.jpg 1600w" alt="MPLAB X IDE Set as Main Project menu" width="412" height="671"></figure></li><li>Click the MCC button on the toolbox. a master.mc3 file will be created in the root of the master project folder after MCC has finished loading.</li><li>In the device resources pane, click the + on the SLAVE CORE.<br><figure class="post__image"><img loading="lazy" src="https://andrewmosqueda.github.io/media/posts/4/MPLAB_device_resources_slavecore.jpg" sizes="(max-width: 48em) 100vw, 768px" srcset="https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_device_resources_slavecore-xs.jpg 300w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_device_resources_slavecore-sm.jpg 480w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_device_resources_slavecore-md.jpg 768w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_device_resources_slavecore-lg.jpg 1024w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_device_resources_slavecore-xl.jpg 1360w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_device_resources_slavecore-2xl.jpg 1600w" alt="MPLAB Device Resources Slave Core" width="465" height="292"></figure><br>After clicking the + icon, wait until the SLAVE CORE appears on the project resources pane.<br><figure class="post__image"><img loading="lazy" src="https://andrewmosqueda.github.io/media/posts/4/MPLAB_project_resources_slavecore.jpg" sizes="(max-width: 48em) 100vw, 768px" srcset="https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_project_resources_slavecore-xs.jpg 300w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_project_resources_slavecore-sm.jpg 480w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_project_resources_slavecore-md.jpg 768w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_project_resources_slavecore-lg.jpg 1024w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_project_resources_slavecore-xl.jpg 1360w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_project_resources_slavecore-2xl.jpg 1600w" alt="MPLAB Project Resources Slave Core" width="467" height="327"></figure></li><li>In the Slave Core Pane, name the Slave as "slave". Enable Protocol A and Protocol B. Set Protocol A Direction as M-&gt;S.<br><figure class="post__image"><img loading="lazy" src="https://andrewmosqueda.github.io/media/posts/4/MPLAB_slave_core_name.jpg" sizes="(max-width: 48em) 100vw, 768px" srcset="https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_slave_core_name-xs.jpg 300w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_slave_core_name-sm.jpg 480w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_slave_core_name-md.jpg 768w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_slave_core_name-lg.jpg 1024w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_slave_core_name-xl.jpg 1360w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_slave_core_name-2xl.jpg 1600w" alt="MPLAB Master Settings Slave Name and Protocol Settings" width="927" height="517"></figure></li><li>In the Pin Manager Pane, set RC1, RC14 and RC15 as owned by the Slave Core. RC1 is the voltage sense input. RC14 and RC15 are the PWM pins for controlling the MOSFETS of the buck-boost circuit.<br><figure class="post__image"><img loading="lazy" src="https://andrewmosqueda.github.io/media/posts/4/MPLAB_pin_manager_master_slavepin_assign.jpg" sizes="(max-width: 48em) 100vw, 768px" srcset="https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_pin_manager_master_slavepin_assign-xs.jpg 300w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_pin_manager_master_slavepin_assign-sm.jpg 480w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_pin_manager_master_slavepin_assign-md.jpg 768w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_pin_manager_master_slavepin_assign-lg.jpg 1024w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_pin_manager_master_slavepin_assign-xl.jpg 1360w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_pin_manager_master_slavepin_assign-2xl.jpg 1600w" alt="MPLAB MCC Pin Manager Slave Core Ownership" width="1205" height="351"></figure></li><li>In the System Module Pane, set clock output pin as "OSC2 is general purpose digital I/O pin".<br><figure class="post__image"><img loading="lazy" src="https://andrewmosqueda.github.io/media/posts/4/MPLAB-clock-output-pin-configuration.jpg" sizes="(max-width: 48em) 100vw, 768px" srcset="https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB-clock-output-pin-configuration-xs.jpg 300w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB-clock-output-pin-configuration-sm.jpg 480w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB-clock-output-pin-configuration-md.jpg 768w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB-clock-output-pin-configuration-lg.jpg 1024w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB-clock-output-pin-configuration-xl.jpg 1360w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB-clock-output-pin-configuration-2xl.jpg 1600w" alt="MPLAB MCC Master Clock Output Pin Configuration" width="918" height="480"></figure></li><li>Go back to the Slave Core Pane and click Save Master Settings button. A file named master_config.mc3 will be generated on the root of the master folder after you click the Save Master Settings button.</li><li>On the Project Resources pane, click the Generate button on the Project Resources pane. If there are warnings, review first the Notifications [MCC] pane.</li><li>After confirmation on the generate configuration, you should see a Generation complete on the text output. After that, close the configurator by clicking the MCC button on the toolbar.</li></ol><p>SLAVE CORE</p><ol><li>On the Projects Pane, right click on the slave project and select Set as Main Project.</li><li>Click the MCC button on the toolbar. This will generate a file named slave.mc3 to the root of the slave project folder.</li><li>Go to the Master Core Pane then click Load Slave Settings from Master Configuration button.</li><li>In the Load Master Settings dialog box, browse to the master core folder and open the master_config.mc3 file.</li><li>In the Device Resources Pane, click the + on PWM. The PWM will appear on the Project Resources Pane afterwards.<br><figure class="post__image"><img loading="lazy" src="https://andrewmosqueda.github.io/media/posts/4/MPLAB_device_resources_PWM.jpg" sizes="(max-width: 48em) 100vw, 768px" srcset="https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_device_resources_PWM-xs.jpg 300w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_device_resources_PWM-sm.jpg 480w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_device_resources_PWM-md.jpg 768w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_device_resources_PWM-lg.jpg 1024w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_device_resources_PWM-xl.jpg 1360w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_device_resources_PWM-2xl.jpg 1600w" alt="MPLAB MCC Device Resources Pane" width="462" height="292"></figure></li><li>In the PWM Pane, select PWM Generator 7, rename the to PWM_BOOST, enable PWM Generator and change PWM Output Mode to Independent. Note that we can only use Generator 7 because it is the one connected to RC14 and RC15 PWM output.<br><figure class="post__image"><img loading="lazy" src="https://andrewmosqueda.github.io/media/posts/4/MPLAB-MCC-PWM-Generator-configuration.jpg" sizes="(max-width: 48em) 100vw, 768px" srcset="https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB-MCC-PWM-Generator-configuration-xs.jpg 300w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB-MCC-PWM-Generator-configuration-sm.jpg 480w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB-MCC-PWM-Generator-configuration-md.jpg 768w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB-MCC-PWM-Generator-configuration-lg.jpg 1024w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB-MCC-PWM-Generator-configuration-xl.jpg 1360w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB-MCC-PWM-Generator-configuration-2xl.jpg 1600w" alt="MPLAB MCC PWM generator configuration" width="735" height="387"></figure></li><li>Change the Requested Frequency to 40KHz.<br><figure class="post__image"><img loading="lazy" src="https://andrewmosqueda.github.io/media/posts/4/MPLAB_PWM_frequency_setting.jpg" sizes="(max-width: 48em) 100vw, 768px" srcset="https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_PWM_frequency_setting-xs.jpg 300w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_PWM_frequency_setting-sm.jpg 480w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_PWM_frequency_setting-md.jpg 768w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_PWM_frequency_setting-lg.jpg 1024w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_PWM_frequency_setting-xl.jpg 1360w, https://andrewmosqueda.github.io/media/posts/4/responsive/MPLAB_PWM_frequency_setting-2xl.jpg 1600w" alt="MPLAB MCC PWM Generator Frequency configuration" width="853" height="287"></figure><br>The PWM precision or counter will be the value on the "PWM Input Clock Selection" (8MHz) divided by the value on the "Requested Frequency" (40kHz) that is equal to 200.</li></ol><p> </p><p> </p><p> </p></div><aside class="post__aside"><div class="post__last-updated u-small">This article was updated on August 21, 2021</div><div class="post__share"></div></aside><footer class="post__footer"><div class="post__bio box"><img class="u-author__avatar" src="https://andrewmosqueda.github.io/media/website/andrew.jpg" loading="lazy" alt="Andrew Mosqueda"><div><h4 class="h6"><a href="https://andrewmosqueda.github.io/authors/andrew-mosqueda/" title="Andrew Mosqueda">Andrew Mosqueda</a></h4></div></div><div class="post__related box"><h3 class="box__title">Related posts</h3><div class="post__related-wrap"><figure class="post__related-item"><figcaption><h4 class="post__related-title"><a href="https://andrewmosqueda.github.io/implementing-5v-to-33v-buck-converter-in-the-dspic33ch-curiosity-development-board/" class="inverse">Implementing 5V to 3.3V PWM Buck Converter in the DSPIC33CH Curiosity Development Board</a></h4><time datetime="2021-08-08T16:12" class="u-small">August 8, 2021</time></figcaption></figure><figure class="post__related-item"><figcaption><h4 class="post__related-title"><a href="https://andrewmosqueda.github.io/simulation-of-buck-converter-using-discrete-pid-in-ltspice/" class="inverse">Simulation of Buck Converter using discrete PID in LTSPICE</a></h4><time datetime="2021-08-08T11:14" class="u-small">August 8, 2021</time></figcaption></figure></div></div></footer></article></main><div class="sidebar"><section class="box featured"><h3 class="box__title">Featured</h3><ul class="featured__container"><li class="featured__item"><div><a href="https://andrewmosqueda.github.io/simulation-of-buck-converter-using-discrete-pid-in-ltspice/" class="featured__title">Simulation of Buck Converter using discrete PID in LTSPICE</a> <time class="u-small" datetime="2021-08-08T11:14">August 8, 2021</time></div></li></ul></section><section class="box authors"><h3 class="box__title">Authors</h3><ul class="authors__cotainer"><li class="authors__item"><a href="https://andrewmosqueda.github.io/authors/andrew-mosqueda/" class="authors__image-link"><img src="https://andrewmosqueda.github.io/media/website/andrew.jpg" alt="Andrew Mosqueda"></a><div><a href="https://andrewmosqueda.github.io/authors/andrew-mosqueda/" class="authors__title">Andrew Mosqueda</a> <span class="u-small">Post: 3</span></div></li></ul></section></div><footer class="footer"><a class="footer__logo" href="https://andrewmosqueda.github.io/">Andrew Mosqueda</a><nav><ul class="footer__nav"></ul></nav><div class="footer__follow"><a href="https://www.facebook.com/andrew.mosqueda" aria-label="Facebook"><svg><use xlink:href="https://andrewmosqueda.github.io/assets/svg/svg-map.svg#facebook"/></svg> </a><a href="https://www.linkedin.com/in/alex-andrew-mosqueda-31197876/" aria-label="LinkedIn"><svg><use xlink:href="https://andrewmosqueda.github.io/assets/svg/svg-map.svg#linkedin"/></svg> </a><a href="https://www.youtube.com/channel/UCHcJ7jRLmntRZrI8h41y3Yg" aria-label="Youtube"><svg><use xlink:href="https://andrewmosqueda.github.io/assets/svg/svg-map.svg#youtube"/></svg></a></div><div class="footer__copyright"><p>andrewgs7311@gmail.com</p></div></footer></div><script>window.publiiThemeMenuConfig = {    
        mobileMenuMode: 'sidebar',
        animationSpeed: 300,
        submenuWidth: 'auto',
        doubleClickTime: 500,
        mobileMenuExpandableSubmenus: true, 
        relatedContainerForOverlayMenuSelector: '.navbar',
   };</script><script defer="defer" src="https://andrewmosqueda.github.io/assets/js/scripts.min.js?v=3dc768003cc6d66c9e7bf0904e71d3e8"></script><script>var images = document.querySelectorAll('img[loading]');

      for (var i = 0; i < images.length; i++) {
         if (images[i].complete) {
               images[i].classList.add('is-loaded');
         } else {
               images[i].addEventListener('load', function () {
                  this.classList.add('is-loaded');
               }, false);
         }
      }</script></body></html>